/* Daily Check-In modal compact layout */
.checkin-modal {
  height: 100dvh;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  /* Add breathing room from the top and respect safe areas */
  padding-top: calc(env(safe-area-inset-top) + 24px);
  /* Keep a small bottom padding while respecting the home indicator */
  padding-bottom: calc(env(safe-area-inset-bottom) + 6px);
}

.checkin-content {
  flex: 1;
  overflow: hidden; /* target zero scroll */
  display: grid;
  grid-template-rows: repeat(3, minmax(0, 1fr)) auto; /* 3 cards + notes */
  row-gap: 12px; /* adds breathing room */
  padding-block: 10px; /* give a bit more bottom space */
  padding-inline: 12px;
}

/* Compact card footprint */
.checkin-card.compact .checkin-inner {
  padding: 12px 14px !important; /* was ~16â€“20 */
}
.checkin-card.compact .checkin-title {
  line-height: 1.1;
}

/* Header breathing room */
.checkin-modal-header {
  padding-top: calc(env(safe-area-inset-top, 0px) + 14px);
  padding-bottom: 6px;
  min-height: 48px;
}

/* Emoji sizing */
.checkin-modal .checkin-emoji {
  display: inline-block;
  font-size: clamp(28px, 3.6vw, 32px);
  line-height: 1;
}
/* Emoji picker trigger */
.checkin-modal .checkin-emoji-button,
.checkin-modal .checkin-emoji-button button,
.checkin-modal .checkin-emoji-button span {
  font-size: clamp(28px, 3.6vw, 32px);
  line-height: 1;
}

/* Slider vertical margins and bubble size */
.checkin-slider .mood-slider {
  margin-top: 6px;
  margin-bottom: 6px;
  touch-action: none; /* prevent page scroll stealing gestures */
}
.checkin-modal .value-bubble span {
  font-size: 12px;
  padding: 2px 6px;
}

/* Make slider thumbs larger and easier to grab (scoped to Check-In) */
.checkin-slider [role="slider"] {
  width: 32px;
  height: 32px;
}
.checkin-slider [role="slider"]::after {
  /* Increase invisible hit area for touch */
  inset: -18px !important;
}

/* Notes area */
.checkin-notes {
  min-height: 56px; /* ~2 rows */
  margin-top: 6px; /* tiny top margin */
}

/* Footer buttons area */
.checkin-footer {
  padding-top: 8px;
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 10px);
  padding-inline: 12px;
  display: grid;
  grid-auto-rows: min-content;
  row-gap: 6px; /* compact gap */
}

/* Tighter for short viewports */
@media (max-height: 740px) {
  .checkin-card.compact .checkin-inner { padding: 10px 12px !important; }
  .checkin-notes { min-height: 52px; }
  .checkin-footer { padding-block: 8px; }
  .checkin-content { row-gap: 10px; }
  .checkin-modal-header { padding-top: calc(env(safe-area-inset-top, 0px) + 10px); }
}

/* Allow content scroll on very small heights but keep footer visible */
@media (max-height: 640px) {
  .checkin-content { overflow: auto; }
  .checkin-modal { padding-top: calc(env(safe-area-inset-top) + 12px); }
}
